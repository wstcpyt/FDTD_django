// Generated by CoffeeScript 1.9.1
(function() {
  var page, system, twitterId;

  page = require('webpage').create();

  system = require('system');

  twitterId = 'PhantomJS';

  page.onConsoleMessage = function(msg) {
    return console.log(msg);
  };

  if (system.args.length < 2) {
    console.log('Usage: tweets.coffee [twitter ID]');
  } else {
    twitterId = system.args[1];
  }

  console.log("*** Latest tweets from @" + twitterId + " ***\n");

  page.open(encodeURI("http://mobile.twitter.com/" + twitterId), function(status) {
    if (status !== 'success') {
      console.log('Unable to access network');
    } else {
      page.evaluate(function() {
        var i, j, k, len, list, results;
        list = document.querySelectorAll('div.tweet-text');
        results = [];
        for (j = k = 0, len = list.length; k < len; j = ++k) {
          i = list[j];
          results.push(console.log((j + 1) + ": " + i.innerText));
        }
        return results;
      });
    }
    return phantom.exit();
  });

}).call(this);

//# sourceMappingURL=tweets.js.map
