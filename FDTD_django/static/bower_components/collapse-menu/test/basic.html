<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>collapse-menu-basic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>
    <script src="../../test-fixture/test-fixture-mocha.js"></script>
    <link rel="import" href="../../test-fixture/test-fixture.html">
    <link rel="import" href="../collapse-menu.html">
</head>
<body>
<test-fixture id="basic">
    <template>
        <collapse-menu></collapse-menu>
    </template>
</test-fixture>

<script>
    suite('basic', function () {
        var collapsemenu;
        suite('set query with different values', function () {
            setup(function () {
                collapsemenu = fixture('basic');
            });
            test('small min-width value', function () {
                collapsemenu.query = '(min-width: 1px)';
                assert.equal(collapsemenu.screenmatched, true);
            });
            test('large min-width value', function () {
                collapsemenu.query = '(min-width: 10000px)';
                assert.equal(collapsemenu.screenmatched, false);
            });
            test('small max-width value', function () {
                collapsemenu.query = '(max-width: 1px)';
                assert.equal(collapsemenu.screenmatched, false);
            });
            test('large max-width value', function () {
                collapsemenu.query = '(max-width: 10000px)';
                assert.equal(collapsemenu.screenmatched, true);
            });
        });
        suite('menunav and mobilenav display right', function () {
            setup(function () {
                collapsemenu = fixture('basic');
            });
            test('query Matches', function(){
                collapsemenu.query = '(min-width: 1px)';
                assert.equal(collapsemenu.$.menunavid.style.display, 'none');
                assert.equal(collapsemenu.$.smallscreennavid.style.display, '')
            });
            test('query no Matche', function(){
                collapsemenu.query = '(min-width: 10000px)';
                assert.equal(collapsemenu.$.menunavid.style.display, '');
                assert.equal(collapsemenu.$.smallscreennavid.style.display, 'none')
            });
        });
        suite('coremediaEvent_toggleNav function test', function() {
            setup(function () {
                collapsemenu = fixture('basic');
            });
            test('parameter true', function() {
                collapsemenu.coreMediaObj.toggleNav(true);
                assert.equal(collapsemenu.$.menunavid.style.display, 'none');
                assert.equal(collapsemenu.$.smallscreennavid.style.display, '')
            });
            test('parameter false', function(){
                collapsemenu.coreMediaObj.toggleNav(false);
                assert.equal(collapsemenu.$.menunavid.style.display, '');
                assert.equal(collapsemenu.$.smallscreennavid.style.display, 'none');
            });
        });
    });
</script>
</body>
</html>