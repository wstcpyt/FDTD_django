// Generated by CoffeeScript 1.9.1
(function() {
  var module;

  module = angular.module('indexapp.bottomsheetexport', []).controller('bottomCtrl', [
    '$scope', '$timeout', '$mdBottomSheet', 'indexdataService', function($scope, $timeout, $mdBottomSheet, indexdataService) {
      $scope.alert = '';
      return $scope.showGridBottomSheet = function($event) {
        $scope.alert = '';
        return $mdBottomSheet.show({
          templateUrl: '/static/html/bottom-sheet-grid-template.html',
          controller: 'GridBottomSheetCtrl',
          targetEvent: $event
        }).then(function(clickedItem) {
          var csvContent, encodedUri, test_array;
          $scope.alert = clickedItem.name + ' clicked!';
          test_array = [["name1", 2, 3], ["name2", 4, 5], ["name3", 6, 7], ["name4", 8, 9], ["name5", 10, 11]];
          csvContent = "data:text/csv;charset=utf-8,";
          test_array.forEach(function(infoArray) {
            var dataString;
            dataString = infoArray.join(",");
            return csvContent += dataString + "\n";
          });
          encodedUri = encodeURI(csvContent);
          window.open(encodedUri);
          return console.log(indexdataService.indexdata.dataArray);
        });
      };
    }
  ]).controller('GridBottomSheetCtrl', [
    '$scope', '$mdBottomSheet', function($scope, $mdBottomSheet) {
      $scope.items = [
        {
          name: 'TXT',
          icon: 'txt'
        }, {
          name: 'CSV',
          icon: 'csv'
        }
      ];
      return $scope.listItemClick = function($index) {
        var clickedItem;
        clickedItem = $scope.items[$index];
        return $mdBottomSheet.hide(clickedItem);
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=bottomsheetexport.module.js.map
