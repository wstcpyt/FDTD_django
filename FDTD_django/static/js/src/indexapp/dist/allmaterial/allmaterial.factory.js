// Generated by CoffeeScript 1.9.2
(function() {
  define(['./module'], function(module) {
    return module.factory('Allmaterial', [
      '$http', function($http) {
        var Allmaterial;
        Allmaterial = (function() {
          function Allmaterial() {
            this.items = [];
            this.busy = false;
            this.after = 0;
          }

          Allmaterial.prototype.nextPage = function() {
            var self, url;
            self = this;
            if (self.busy) {

            } else {
              self.busy = true;
              url = "/allmaterial/" + this.after + "/10/";
              $http.get(url).success(function(data) {
                var i, item, len;
                for (i = 0, len = data.length; i < len; i++) {
                  item = data[i];
                  self.items.push(item);
                }
                self.after = self.items.length;
                return self.busy = false;
              }).error(function() {
                return console.log('cannot retrieve material inrange');
              });
            }
            return 1;
          };

          return Allmaterial;

        })();
        return Allmaterial;
      }
    ]);
  });

}).call(this);

//# sourceMappingURL=allmaterial.factory.js.map
