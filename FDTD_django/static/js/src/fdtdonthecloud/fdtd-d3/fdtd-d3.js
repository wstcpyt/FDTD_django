// Generated by CoffeeScript 1.9.2
(function() {
  var Dragcircle, Dragrect, polymer;

  polymer = {
    is: 'fdtd-d3',
    attached: function() {
      var circledom, divdom, dragcircle, svgdom;
      divdom = this.$$("#id_svg_div");
      svgdom = this.$$("#id_svg_div").getElementsByTagName("svg");
      circledom = this.$$("#id_svg_div").getElementsByTagName("circle");
      dragcircle = new Dragcircle(this, divdom, svgdom, circledom);
      return dragcircle.rendersvg();
    }
  };

  Dragrect = (function() {
    function Dragrect() {
      this.w = 750;
      this.h = 450;
      this.r = 120;
      this.width = 300;
      this.height = 200;
      this.dragnarw = 20;
    }

    Dragrect.prototype.rendersvg = function() {};

    return Dragrect;

  })();

  Dragcircle = (function() {
    function Dragcircle(polymerscope, divdom1, svgdom1, circledom1) {
      this.polymerscope = polymerscope;
      this.divdom = divdom1;
      this.svgdom = svgdom1;
      this.circledom = circledom1;
      this.width = 240;
      this.height = 125;
      this.radius = 20;
    }

    Dragcircle.prototype.rendersvg = function() {
      var circle, drag, i, j, self, svg;
      self = this;
      for (i = j = 0; j <= 15; i = ++j) {
        d3.select(self.polymerscope.$$("#id_svg_div")).append("svg").style("border-bottom", "solid 1px #ccc").style("border-right", "solid 1px #ccc").style("margin-right", "-1px").style("margin-bottom", "-1px");
      }
      drag = d3.behavior.drag().origin(function(d) {
        return d;
      }).on("drag", function(d) {
        return self.dragmove(d, this);
      });
      svg = d3.selectAll(self.svgdom).data(d3.range(16).map(function() {
        return {
          x: self.width / 2,
          y: self.height / 2
        };
      })).attr("width", self.width).attr("height", self.height);
      svg.append("circle");
      return circle = d3.selectAll(self.circledom).attr("r", self.radius).attr('cx', function(d) {
        return d.x;
      }).attr("cy", function(d) {
        return d.y;
      }).call(drag);
    };

    Dragcircle.prototype.dragmove = function(d, scope) {
      return d3.select(scope).attr("cx", d.x = Math.max(this.radius, Math.min(this.width - this.radius, d3.event.x))).attr("cy", d.y = Math.max(this.radius, Math.min(this.height - this.radius, d3.event.y)));
    };

    return Dragcircle;

  })();

  Polymer(polymer);

}).call(this);

//# sourceMappingURL=fdtd-d3.js.map
