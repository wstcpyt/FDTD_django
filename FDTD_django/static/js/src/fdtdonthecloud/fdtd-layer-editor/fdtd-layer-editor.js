// Generated by CoffeeScript 1.9.2
(function() {
  var polymer;

  polymer = {
    is: 'fdtd-layer-editor',
    properties: {
      totallayernumber: {
        type: Number,
        notify: true
      },
      layernumber: {
        type: Number,
        notify: true,
        observer: "layernumberChanged"
      },
      projectid: {
        type: Number,
        notify: true
      },
      ajaxGetdatalayerinfoResponse: {
        type: Object,
        notify: true,
        observer: "ajaxGetdatalayerinfoResponseChanged"
      }
    },
    attached: function() {},
    ajaxGetdatalayerinfoResponseChanged: function() {
      if (this.ajaxGetdatalayerinfoResponse.hasOwnProperty("title")) {
        this.$$("#id_title").$$("paper-input-container").querySelector('#input').value = this.ajaxGetdatalayerinfoResponse['title'];
      } else {
        this.$$("#id_title").$$("paper-input-container").querySelector('#input').value = "";
      }
      if (this.ajaxGetdatalayerinfoResponse.hasOwnProperty("thickness")) {
        this.$$("#id_thickness").$$("paper-input-container").querySelector('#input').value = this.ajaxGetdatalayerinfoResponse['thickness'];
      } else {
        this.$$("#id_thickness").$$("paper-input-container").querySelector('#input').value = "";
      }
      if (this.ajaxGetdatalayerinfoResponse.hasOwnProperty("rf")) {
        return this.$$("#id_rf").$$("paper-input-container").querySelector('#input').value = this.ajaxGetdatalayerinfoResponse['rf'];
      } else {
        return this.$$("#id_rf").$$("paper-input-container").querySelector('#input').value = "";
      }
    },
    layernumberChanged: function() {
      this.$$("#id_ajax_getdatalayerinfo").params = {
        "projectid": this.projectid,
        "layerid": this.layernumber
      };
      return this.$$("#id_ajax_getdatalayerinfo").generateRequest();
    },
    savelayerinfo: function() {
      var inputvalidate, jsonstring;
      inputvalidate = this.checkinputvalidate();
      if (inputvalidate) {
        this.$$("#id_ajax_updatelayerinfo").headers = {
          "X-CSRFToken": $.cookie('csrftoken'),
          "Content-Type": "application/json"
        };
        jsonstring = this.generatelLayerinfoJsonstring();
        this.$$("#id_ajax_updatelayerinfo").body = jsonstring;
        this.$$("#id_ajax_updatelayerinfo").generateRequest();
        return this.changelayernumber();
      }
    },
    changelayernumber: function() {
      if (this.layernumber < this.totallayernumber - 1) {
        return this.layernumber = this.layernumber + 1;
      } else {
        return this.layernumber = 0;
      }
    },
    checkinputvalidate: function() {
      var rfvalidateresult, thicknessvalidateresult, titlevalidateresult;
      titlevalidateresult = this.$$("#id_title").validate();
      thicknessvalidateresult = this.$$("#id_thickness").validate();
      rfvalidateresult = this.$$("#id_rf").validate();
      return titlevalidateresult && thicknessvalidateresult && rfvalidateresult;
    },
    generatelLayerinfoJsonstring: function() {
      var layerobject, object;
      layerobject = {
        "title": this.$$("#id_title").value,
        "thickness": this.$$("#id_thickness").value,
        "rf": this.$$("#id_rf").value
      };
      object = {};
      object["layerdetail"] = layerobject;
      object["id"] = this.projectid;
      object['layernumber'] = this.layernumber;
      return JSON.stringify(object);
    }
  };

  Polymer(polymer);

}).call(this);

//# sourceMappingURL=fdtd-layer-editor.js.map
