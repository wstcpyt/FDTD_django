// Generated by CoffeeScript 1.9.2
(function() {
  define(['./module'], function(module) {
    return module.controller('LeftCtrl', [
      '$scope', '$location', '$rootScope', '$routeParams', 'releaseService', function($scope, $location, $rootScope, $routeParams, releaseService) {
        var releaseServicedata, self, versions;
        self = this;
        $scope.navmenus = [
          {
            'menu': 'REST API',
            'href': '#RESTAPI',
            'formatname': 'RESTAPI',
            'submenus': ['Getting Started', 'Quick Reference', 'Response Format']
          }
        ];
        if (releaseService.releaseversions) {
          versions = self.generateversionarray(releaseService.releaseversions);
          self.addsubmenuv(versions);
        } else {
          releaseServicedata = releaseService.getdata();
          releaseServicedata.then(function(data) {
            versions = self.generateversionarray(data);
            return self.addsubmenuv(versions);
          });
        }
        self.addsubmenuv = function(versions) {
          return $scope.navmenus.push({
            'menu': 'RELEASE NOTE',
            'href': '#RELEASENOTE',
            'formatname': 'RELEASENOTE',
            'submenus': versions
          });
        };
        self.generateversionarray = function(data) {
          var i, len, releaseversion, releaseversions;
          releaseversions = [];
          for (i = 0, len = data.length; i < len; i++) {
            releaseversion = data[i];
            releaseversions.push(releaseversion['version']);
          }
          return releaseversions;
        };
        $scope.selectsubmenu = function(submenu, navmenu) {
          $rootScope.maintoolbartitle = submenu;
          $scope.submenuselected = submenu;
          $scope.menuselected = navmenu.menu;
          $location.url('/' + navmenu.menu + '/' + submenu);
          return $rootScope.$emit('submenuclicked');
        };
        $scope.selectmenu = function(navmenu) {
          return $scope.collapsemenuselected = navmenu.menu;
        };
        return $scope.$on('$routeChangeSuccess', function() {
          if ($routeParams.menu && $routeParams.submenus) {
            $scope.collapsemenuselected = $routeParams.menu.replace('%20', ' ');
            $scope.menuselected = $scope.collapsemenuselected;
            $scope.submenuselected = $routeParams.submenus.replace('%20', ' ');
            return $rootScope.maintoolbartitle = $scope.submenuselected;
          } else {
            $scope.collapsemenuselected = 'REST API';
            $scope.menuselected = $scope.collapsemenuselected;
            $scope.submenuselected = 'Getting Started';
            return $rootScope.maintoolbartitle = $scope.submenuselected;
          }
        });
      }
    ]);
  });

}).call(this);

//# sourceMappingURL=left.ctrl.js.map
